{"version":3,"file":"add-task.js","sources":["pages/tasks/add-task.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGFza3MvYWRkLXRhc2sudnVl"],"sourcesContent":["<template>\n  <view class=\"add-task-container page-container\">\n    <view class=\"header\">\n      <view class=\"back-button\" @click=\"goBack\">\n        <text class=\"back-icon\">←</text>\n      </view>\n      <text class=\"page-title\">创建新任务</text>\n    </view>\n\n    <scroll-view scroll-y=\"true\" class=\"form-scroll\">\n      <view class=\"form-container\">\n        <view class=\"form-item\">\n          <view class=\"form-label\">任务标题</view>\n          <input\n            class=\"form-input\"\n            v-model=\"task.title\"\n            placeholder=\"请简要描述您的任务\"\n            maxlength=\"100\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <view class=\"form-label\">描述（可选）</view>\n          <textarea\n            class=\"form-textarea\"\n            v-model=\"task.description\"\n            placeholder=\"关于该任务的详细描述...\"\n            maxlength=\"500\"\n            rows=\"4\"\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <view class=\"form-label\">优先级</view>\n          <view class=\"priority-options\">\n            <view\n              class=\"priority-option high\"\n              :class=\"{ active: task.priority === '高' }\"\n              @click=\"task.priority = '高'\"\n            >\n              <text class=\"priority-icon\">⚠️</text>\n              <text class=\"priority-text\">高优先级</text>\n            </view>\n\n            <view\n              class=\"priority-option medium\"\n              :class=\"{ active: task.priority === '中' }\"\n              @click=\"task.priority = '中'\"\n            >\n              <text class=\"priority-icon\">⚠️</text>\n              <text class=\"priority-text\">中等</text>\n            </view>\n\n            <view\n              class=\"priority-option low\"\n              :class=\"{ active: task.priority === '低' }\"\n              @click=\"task.priority = '低'\"\n            >\n              <text class=\"priority-icon\">▼</text>\n              <text class=\"priority-text\">低</text>\n            </view>\n          </view>\n        </view>\n        1111\n        <view class=\"form-item\">\n          <view class=\"form-label\">截止日期</view>\n          <uni-datetime-picker\n            type=\"datetime\"\n            :value=\"task.deadline\"\n            :start=\"new Date().toISOString().split('T')[0]\"\n            :end=\"new Date().getFullYear() + 3 + '-12-31'\"\n            @change=\"onDeadlineChange\"\n            placeholder=\"选择截止日期和时间\"\n            border\n          />\n        </view>\n\n        <view class=\"form-item\">\n          <view class=\"form-label\">估计时间</view>\n          <view class=\"time-picker-container\">\n            <view class=\"picker-item\">\n              <view class=\"picker-label\">开始时间</view>\n              <uni-datetime-picker\n                type=\"time\"\n                :value=\"task.estimatedStartTime\"\n                @change=\"onStartTimeChange\"\n                placeholder=\"选择开始时间\"\n                border\n              />\n            </view>\n            <view class=\"picker-item\">\n              <view class=\"picker-label\">结束时间</view>\n              <uni-datetime-picker\n                type=\"time\"\n                :value=\"task.estimatedEndTime\"\n                @change=\"onEndTimeChange\"\n                placeholder=\"选择结束时间\"\n                border\n              />\n            </view>\n          </view>\n        </view>\n        <view class=\"form-item\">\n          <view class=\"form-label\">关联标签</view>\n          <input\n            class=\"form-input\"\n            v-model=\"task.tags\"\n            placeholder=\"输入标签或选择已有标签\"\n            maxlength=\"50\"\n          />\n          <view class=\"tags-container\">\n            <view\n              v-for=\"(tag, index) in popularTags\"\n              :key=\"index\"\n              class=\"tag-item\"\n              @click=\"selectTag(tag)\"\n            >\n              <text># {{ tag }}</text>\n            </view>\n          </view>\n        </view>\n        <view class=\"form-item\">\n          <view class=\"form-label\">所属课程/项目</view>\n          <input\n            class=\"form-input\"\n            v-model=\"task.course\"\n            placeholder=\"例如：数学分析\"\n            maxlength=\"50\"\n          />\n        </view>\n      </view>\n    </scroll-view>\n\n    <view class=\"footer\">\n      <button\n        class=\"submit-button\"\n        type=\"primary\"\n        @click=\"submitTask\"\n        :disabled=\"!isFormValid\"\n      >\n        创建任务\n      </button>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { addTask } from \"../../api/task\";\nimport { getUserId, removeUserId } from \"../../utils/storage\";\n\nexport default {\n  data() {\n    // 设置默认开始日期为今天\n    const today = new Date();\n    const startDate =\n      today.getFullYear() +\n      \"-\" +\n      String(today.getMonth() + 1).padStart(2, \"0\") +\n      \"-\" +\n      String(today.getDate()).padStart(2, \"0\");\n\n    // 设置默认结束日期为明天\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    const defaultDeadline =\n      tomorrow.getFullYear() +\n      \"-\" +\n      String(tomorrow.getMonth() + 1).padStart(2, \"0\") +\n      \"-\" +\n      String(tomorrow.getDate()).padStart(2, \"0\") +\n      \" 18:00\";\n\n    return {\n      task: {\n        title: \"\",\n        description: \"\",\n        priority: \"medium\", // 默认中等优先级\n        deadline: defaultDeadline,\n        estimatedStartTime: \"\",\n        estimatedEndTime: \"\",\n        tags: \"\",\n        course: \"\",\n      },\n      popularTags: [\"作业\", \"复习\", \"预习\", \"实验\", \"报告\", \"论文\", \"考试\"],\n      startDate: startDate,\n      isDatePickerVisible: false,\n      isTimePickerVisible: false,\n      currentPicker: \"\",\n      // 开发测试模式\n\n      defaultDeadline: defaultDeadline,\n    };\n  },\n  computed: {\n    isFormValid() {\n      // 基本表单验证：任务标题不能为空\n      return (\n        this.task.title.trim().length > 0 &&\n        this.task.title.trim().length <= 100\n      );\n    },\n  },\n  watch: {\n    // 监听截止日期变化，检查是否选择了过去的日期\n    \"task.deadline\"(newVal) {\n      if (newVal) {\n        const selectedDate = new Date(newVal);\n        const now = new Date();\n        now.setHours(0, 0, 0, 0);\n\n        if (selectedDate < now) {\n          uni.showToast({\n            title: \"截止日期不能早于今天\",\n            icon: \"none\",\n            duration: 2000,\n          });\n        }\n      }\n    },\n  },\n  methods: {\n    goBack() {\n      uni.navigateBack();\n    },\n    selectTag(tag) {\n      // 如果已有标签，添加空格分隔\n      if (this.task.tags) {\n        this.task.tags += \" \";\n      }\n      this.task.tags += tag;\n    },\n    // 处理截止日期变化\n    onDeadlineChange(e) {\n      this.task.deadline = e;\n    },\n    // 移除不再需要的确认和取消方法，内置API直接处理\n\n    // onDateCancel 方法已移除，内置API会自动处理取消逻辑\n    // 表单验证方法\n    validateForm() {\n      // 验证任务标题\n      if (!this.task.title.trim()) {\n        uni.showToast({\n          title: \"请输入任务标题\",\n          icon: \"none\",\n        });\n        return false;\n      }\n\n      if (this.task.title.trim().length > 100) {\n        uni.showToast({\n          title: \"任务标题不能超过100个字符\",\n          icon: \"none\",\n        });\n        return false;\n      }\n\n      // 验证描述长度\n      if (this.task.description && this.task.description.length > 500) {\n        uni.showToast({\n          title: \"任务描述不能超过500个字符\",\n          icon: \"none\",\n        });\n        return false;\n      }\n\n      // 验证时间范围\n      if (this.task.estimatedStartTime && this.task.estimatedEndTime) {\n        const startTime = new Date(\n          `2000-01-01 ${this.task.estimatedStartTime}`\n        );\n        const endTime = new Date(`2000-01-01 ${this.task.estimatedEndTime}`);\n\n        if (startTime >= endTime) {\n          uni.showToast({\n            title: \"开始时间不能晚于结束时间\",\n            icon: \"none\",\n          });\n          return false;\n        }\n      }\n\n      return true;\n    },\n    // 检查用户是否登录\n    checkLogin() {\n      const userId = getUserId();\n      if (!userId) {\n        uni.showModal({\n          title: \"提示\",\n          content: \"请先登录\",\n          showCancel: false,\n          success: () => {\n            uni.navigateTo({\n              url: \"/pages/login/login\",\n            });\n          },\n        });\n        return false;\n      }\n      return true;\n    },\n    // 处理开始时间变化\n    onStartTimeChange(e) {\n      this.task.estimatedStartTime = e;\n    },\n\n    // 处理结束时间变化\n    onEndTimeChange(e) {\n      this.task.estimatedEndTime = e;\n    },\n\n    // 构建完整描述，包含原始描述和额外信息\n    buildFullDescription() {\n      let fullDescription = this.task.description?.trim() || \"\";\n\n      // 如果有额外信息，添加到描述中\n      const additionalInfo = [];\n\n      if (this.task.estimatedStartTime && this.task.estimatedEndTime) {\n        additionalInfo.push(\n          `预计时间: ${this.task.estimatedStartTime} - ${this.task.estimatedEndTime}`\n        );\n      } else if (this.task.estimatedStartTime) {\n        additionalInfo.push(`预计开始时间: ${this.task.estimatedStartTime}`);\n      } else if (this.task.estimatedEndTime) {\n        additionalInfo.push(`预计结束时间: ${this.task.estimatedEndTime}`);\n      }\n\n      if (this.task.tags?.trim()) {\n        additionalInfo.push(`标签: ${this.task.tags.trim()}`);\n      }\n\n      if (this.task.course?.trim()) {\n        additionalInfo.push(`课程/项目: ${this.task.course.trim()}`);\n      }\n\n      // 如果有额外信息，添加到描述中\n      if (additionalInfo.length > 0) {\n        if (fullDescription) {\n          fullDescription += \"\\n\\n\";\n        }\n        fullDescription += \"--- 补充信息 ---\\n\" + additionalInfo.join(\"\\n\");\n      }\n\n      return fullDescription;\n    },\n    // onStartTimeConfirm、onEndTimeConfirm 和 onTimeCancel 方法已移除，内置API直接处理\n    submitTask() {\n      // 检查登录状态\n      if (!this.checkLogin()) {\n        return;\n      }\n\n      // 执行详细表单验证\n      if (!this.validateForm()) {\n        return;\n      }\n\n      // 构建符合API要求的任务对象\n      // 只包含API接口明确支持的字段\n      console.log(this.task)\n      const taskData = {\n        userId: parseInt(getUserId()), // 确保userId是数字类型\n        taskName: this.task.title.trim(),\n        description: this.buildFullDescription(), // 合并原始描述和额外信息\n        deadline: this.task.deadline.replace(\" \", \"T\"),\n        priority: this.task.priority,\n        // 注意：API接口目前不支持estimatedStartTime、estimatedEndTime、tags、course等字段\n        // 这些信息已合并到description中\n      };\n\n      // 输出日志以便调试\n      console.log(\"提交的任务数据:\", taskData);\n\n      // 调用真实的API保存任务\n      uni.showLoading({\n        title: \"创建中...\",\n      });\n\n      // 调用真实的API保存任务\n      addTask(taskData).then((res) => {\n        uni.hideLoading();\n\n        if (res.code === 200) {\n          // 成功提示\n          uni.showToast({\n            title: \"任务创建成功\",\n            icon: \"success\",\n          });\n\n          // 返回上一页并携带新任务数据\n          uni.navigateBack({\n            delta: 1,\n          });\n        }\n      });\n\n      // 非测试模式下调用真实API\n      addTask(taskData)\n        .then((res) => {\n          uni.hideLoading();\n          console.log(\"API响应:\", res);\n\n          if (res.code === 200) {\n            // 返回上一页并携带新任务数据\n            uni.navigateTo('/pages/tasks/tasks');\n          } else {\n\n            // 显示错误提示\n            uni.showToast({\n              title: error.title,\n              icon: \"none\",\n              duration: 2500,\n            });\n          }\n        })\n        .catch((error) => {\n          uni.hideLoading();\n          console.error(\"创建任务失败:\", error);\n\n          // 显示错误提示\n          uni.showToast({\n            title: error,\n            icon: \"none\",\n            duration: 2500,\n          });\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n/* 确保页面容器不会溢出 */\n.page-container {\n  width: 100%;\n  overflow-x: hidden;\n}\n\n.add-task-container {\n  min-height: 100vh;\n  background-color: #f8f8f8;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 30rpx 20rpx;\n  background-color: #ffffff;\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  width: 100%;\n  box-sizing: border-box;\n\n  .back-button {\n    width: 60rpx;\n    height: 60rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    .back-icon {\n      font-size: 36rpx;\n      color: #333333;\n    }\n  }\n\n  .page-title {\n    font-size: 36rpx;\n    font-weight: 600;\n    color: #333333;\n  }\n\n  .header-right {\n    width: 60rpx;\n\n    .test-button {\n      padding: 8rpx 16rpx;\n      background-color: #e6f7ff;\n      border-radius: 16rpx;\n      font-size: 20rpx;\n\n      .test-text {\n        color: #1890ff;\n      }\n    }\n  }\n}\n\n.form-scroll {\n  flex: 1;\n  padding-bottom: 30rpx;\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.form-container {\n  padding: 20rpx;\n  width: 100%;\n  box-sizing: border-box;\n\n  .form-item {\n    background-color: #ffffff;\n    border-radius: 20rpx;\n    padding: 24rpx;\n    margin-bottom: 20rpx;\n    box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\n    width: 100%;\n    box-sizing: border-box;\n\n    .form-label {\n      font-size: 28rpx;\n      color: #333333;\n      font-weight: 500;\n      margin-bottom: 16rpx;\n    }\n\n    .form-input {\n      width: 100%;\n      font-size: 28rpx;\n      color: #333333;\n      border: none;\n      padding: 8rpx 0;\n      box-sizing: border-box;\n    }\n\n    .form-textarea {\n      width: 100%;\n      font-size: 28rpx;\n      color: #333333;\n      border: none;\n      padding: 8rpx 0;\n      min-height: 160rpx;\n      resize: none;\n      line-height: 1.5;\n      box-sizing: border-box;\n      word-break: break-word;\n    }\n\n    .date-container {\n      display: flex;\n      flex-direction: column;\n      gap: 10rpx;\n    }\n\n    .date-value {\n      font-size: 28rpx;\n      color: #333;\n      padding: 10rpx 0;\n    }\n\n    .date-placeholder {\n      font-size: 28rpx;\n      color: #999;\n      padding: 10rpx 0;\n    }\n\n    .picker-button {\n      background-color: #f0f4ff;\n      color: #5374f7;\n      border: 1rpx solid #e0e8ff;\n      border-radius: 10rpx;\n      font-size: 28rpx;\n      padding: 15rpx 0;\n      width: 100%;\n    }\n\n    .picker-button:active {\n      background-color: #e0e8ff;\n    }\n\n    .time-picker-container {\n      display: flex;\n      flex-direction: column;\n      gap: 20rpx;\n    }\n\n    .picker-item {\n      width: 100%;\n    }\n\n    .picker-label {\n      font-size: 24rpx;\n      color: #666;\n      margin-bottom: 8rpx;\n    }\n\n    .picker-content {\n      font-size: 28rpx;\n      color: #333;\n      padding: 15rpx 0;\n      border-bottom: 1rpx solid #e0e0e0;\n    }\n\n    .picker-content:active {\n      background-color: #f5f5f5;\n    }\n\n    .priority-options {\n      display: flex;\n      gap: 20rpx;\n      width: 100%;\n      box-sizing: border-box;\n\n      .priority-option {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        padding: 20rpx 0;\n        border-radius: 16rpx;\n        border: 2rpx solid #e0e0e0;\n        transition: all 0.3s;\n        box-sizing: border-box;\n\n        &.active {\n          border-color: #5374f7;\n          background-color: #f0f4ff;\n        }\n\n        &.high {\n          &.active {\n            border-color: #ff4d4f;\n            background-color: #fff1f0;\n          }\n        }\n\n        &.medium {\n          &.active {\n            border-color: #faad14;\n            background-color: #fff7e6;\n          }\n        }\n\n        &.low {\n          &.active {\n            border-color: #1890ff;\n            background-color: #e6f7ff;\n          }\n        }\n\n        .priority-icon {\n          font-size: 36rpx;\n          margin-bottom: 8rpx;\n        }\n\n        .priority-text {\n          font-size: 24rpx;\n          color: #666666;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          max-width: 100%;\n\n          .priority-option.active & {\n            color: #5374f7;\n          }\n\n          .priority-option.high.active & {\n            color: #ff4d4f;\n          }\n\n          .priority-option.medium.active & {\n            color: #faad14;\n          }\n\n          .priority-option.low.active & {\n            color: #1890ff;\n          }\n        }\n      }\n    }\n\n    .date-container {\n      display: flex;\n      align-items: center;\n      width: 100%;\n      box-sizing: border-box;\n\n      .date-input {\n        flex: 1;\n        font-size: 28rpx;\n        color: #333333;\n        border: none;\n        padding: 8rpx 0;\n        box-sizing: border-box;\n        background-color: transparent;\n      }\n\n      .calendar-icon {\n        margin-left: 20rpx;\n        font-size: 32rpx;\n        cursor: pointer;\n      }\n    }\n\n    .time-range-container {\n      display: flex;\n      align-items: center;\n      width: 100%;\n      box-sizing: border-box;\n\n      .time-input {\n        flex: 1;\n        font-size: 28rpx;\n        color: #333333;\n        border: none;\n        padding: 8rpx 0;\n        text-align: center;\n        box-sizing: border-box;\n        background-color: transparent;\n        cursor: pointer;\n      }\n\n      .time-separator {\n        font-size: 28rpx;\n        color: #666666;\n        margin: 0 20rpx;\n      }\n    }\n\n    .tags-container {\n      display: flex;\n      flex-wrap: wrap;\n      margin-top: 16rpx;\n      gap: 12rpx;\n      width: 100%;\n      box-sizing: border-box;\n\n      .tag-item {\n        padding: 8rpx 20rpx;\n        background-color: #f0f0f0;\n        border-radius: 20rpx;\n        font-size: 24rpx;\n        color: #666666;\n        box-sizing: border-box;\n        white-space: nowrap;\n      }\n    }\n  }\n}\n\n.footer {\n  padding: 20rpx;\n  background-color: #ffffff;\n  border-top: 2rpx solid #f0f0f0;\n  position: sticky;\n  bottom: 0;\n  width: 100%;\n  box-sizing: border-box;\n\n  .submit-button {\n    width: 100%;\n    height: 96rpx;\n    font-size: 32rpx;\n    font-weight: 600;\n    color: #ffffff;\n    background-color: #5374f7;\n    border-radius: 48rpx;\n    border: none;\n    line-height: 96rpx;\n    box-sizing: border-box;\n  }\n}\n\n// 为禁用状态添加样式\nbutton[disabled] {\n  background-color: #a0a0a0 !important;\n  color: #ffffff !important;\n}\n\n// 输入框聚焦样式\ninput:focus,\ntextarea:focus {\n  outline: none;\n}\n</style>\n","import MiniProgramPage from 'D:/programming/Uniapp/aiNote/pages/tasks/add-task.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","getUserId","addTask","error"],"mappings":"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"}